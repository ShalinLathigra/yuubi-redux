[gd_scene load_steps=29 format=3 uid="uid://dk8goham4tbla"]

[ext_resource type="Script" path="res://Level/TestLevel.gd" id="1_cey5i"]
[ext_resource type="Texture2D" uid="uid://bicwoql8dv4ro" path="res://Art/tiles.png" id="2_6fjh8"]
[ext_resource type="PackedScene" uid="uid://b6qxvfmw6hnlo" path="res://BeatManager/beat_manager.tscn" id="2_m1mxx"]
[ext_resource type="PackedScene" uid="uid://3fvuq5ghlput" path="res://Entities/player2D.tscn" id="2_q6ogv"]
[ext_resource type="Script" path="res://Level/Grid.gd" id="3_hdv0v"]
[ext_resource type="Script" path="res://Level/ActionManager.gd" id="3_pk7mq"]
[ext_resource type="PackedScene" uid="uid://csl1yfv7ldur3" path="res://Entities/Rock2D.tscn" id="4_aqdpl"]
[ext_resource type="Resource" uid="uid://kjs8n50inteh" path="res://BeatManager/beat_manager.tres" id="4_q883l"]
[ext_resource type="Script" path="res://BeatManager/BeatDisplay.gd" id="8_g21sr"]
[ext_resource type="AudioStream" uid="uid://27xxqchchlx6" path="res://Art/8-Bit - GUI Blip 001.wav" id="9_2tel5"]
[ext_resource type="AudioStream" uid="uid://cwtojtoc4ojyp" path="res://Art/LOOP_Spikes & Slimes.wav" id="9_uv3nh"]
[ext_resource type="Script" path="res://BeatManager/BeatAnimator.gd" id="10_nrq1m"]
[ext_resource type="Shader" path="res://Art/Circle.gdshader" id="11_dpi0m"]
[ext_resource type="Texture2D" uid="uid://crgn5rmd7r5xe" path="res://Art/frisbee.svg" id="12_mgj8s"]

[sub_resource type="TileSetAtlasSource" id="TileSetAtlasSource_yll6k"]
texture = ExtResource("2_6fjh8")
texture_region_size = Vector2i(128, 128)
0:0/0 = 0
1:0/0 = 0

[sub_resource type="TileSet" id="TileSet_icf70"]
tile_size = Vector2i(128, 128)
sources/7 = SubResource("TileSetAtlasSource_yll6k")

[sub_resource type="StyleBoxFlat" id="StyleBoxFlat_gm6jr"]
bg_color = Color(1, 0.569231, 0.184615, 0.752941)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_7kqia"]
size = Vector2(1536, 40)

[sub_resource type="Animation" id="Animation_snv87"]
resource_name = "bad_beat"
length = 0.25
step = 0.05
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("FlashSprite:scale")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 0.05, 0.25),
"transitions": PackedFloat32Array(1, 1, 1),
"update": 0,
"values": [Vector2(1e-05, 1e-05), Vector2(0.2, 0.2), Vector2(1e-05, 1e-05)]
}
tracks/1/type = "audio"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("AudioStreamPlayer")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"clips": [{
"end_offset": 0.4369,
"start_offset": 0.0787,
"stream": ExtResource("9_2tel5")
}],
"times": PackedFloat32Array(0)
}
tracks/1/use_blend = false
tracks/2/type = "method"
tracks/2/imported = false
tracks/2/enabled = true
tracks/2/path = NodePath("BadParticles")
tracks/2/interp = 1
tracks/2/loop_wrap = true
tracks/2/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"values": [{
"args": [],
"method": &"restart"
}]
}
tracks/3/type = "value"
tracks/3/imported = false
tracks/3/enabled = true
tracks/3/path = NodePath("BadParticles:emitting")
tracks/3/interp = 1
tracks/3/loop_wrap = true
tracks/3/keys = {
"times": PackedFloat32Array(0.05),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [true]
}
tracks/4/type = "value"
tracks/4/imported = false
tracks/4/enabled = true
tracks/4/path = NodePath("FlashSprite:self_modulate")
tracks/4/interp = 1
tracks/4/loop_wrap = true
tracks/4/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [Color(0.886275, 0.054902, 0, 1)]
}
tracks/5/type = "value"
tracks/5/imported = false
tracks/5/enabled = true
tracks/5/path = NodePath("AudioStreamPlayer:pitch_scale")
tracks/5/interp = 1
tracks/5/loop_wrap = true
tracks/5/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [1.0]
}

[sub_resource type="Animation" id="Animation_d4ca5"]
resource_name = "good_beat"
length = 0.25
step = 0.05
tracks/0/type = "method"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("GoodParticles")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"values": [{
"args": [],
"method": &"restart"
}]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("GoodParticles:emitting")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0.05),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [true]
}
tracks/2/type = "value"
tracks/2/imported = false
tracks/2/enabled = true
tracks/2/path = NodePath("FlashSprite:scale")
tracks/2/interp = 1
tracks/2/loop_wrap = true
tracks/2/keys = {
"times": PackedFloat32Array(0, 0.05, 0.25),
"transitions": PackedFloat32Array(1, 1, 1),
"update": 0,
"values": [Vector2(1e-05, 1e-05), Vector2(0.4, 0.4), Vector2(1e-05, 1e-05)]
}
tracks/3/type = "audio"
tracks/3/imported = false
tracks/3/enabled = true
tracks/3/path = NodePath("AudioStreamPlayer")
tracks/3/interp = 1
tracks/3/loop_wrap = true
tracks/3/keys = {
"clips": [{
"end_offset": 0.4414,
"start_offset": 0.0798,
"stream": ExtResource("9_2tel5")
}],
"times": PackedFloat32Array(0)
}
tracks/3/use_blend = true
tracks/4/type = "value"
tracks/4/imported = false
tracks/4/enabled = true
tracks/4/path = NodePath("FlashSprite:self_modulate")
tracks/4/interp = 1
tracks/4/loop_wrap = true
tracks/4/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [Color(0, 0.886275, 0.101961, 1)]
}

[sub_resource type="AnimationLibrary" id="AnimationLibrary_tjufq"]
_data = {
"bad_beat": SubResource("Animation_snv87"),
"good_beat": SubResource("Animation_d4ca5")
}

[sub_resource type="Gradient" id="Gradient_7dygx"]
offsets = PackedFloat32Array(0, 0.586066, 1)
colors = PackedColorArray(1, 0.111041, 0, 0.737255, 1, 0.0489279, 0, 1, 1, 1, 1, 0)

[sub_resource type="GradientTexture1D" id="GradientTexture1D_8pe1n"]
gradient = SubResource("Gradient_7dygx")

[sub_resource type="ParticleProcessMaterial" id="ParticleProcessMaterial_mc36c"]
particle_flag_disable_z = true
spread = 180.0
initial_velocity_min = 96.0
initial_velocity_max = 96.0
gravity = Vector3(0, 0, 0)
scale_min = 8.0
scale_max = 8.0
color_ramp = SubResource("GradientTexture1D_8pe1n")

[sub_resource type="Gradient" id="Gradient_o403l"]
offsets = PackedFloat32Array(0, 0.586066, 1)
colors = PackedColorArray(0.0297483, 1, 0, 0.737255, 0.0118675, 1, 0, 1, 1, 1, 1, 0)

[sub_resource type="GradientTexture1D" id="GradientTexture1D_auuyh"]
gradient = SubResource("Gradient_o403l")

[sub_resource type="ParticleProcessMaterial" id="ParticleProcessMaterial_f1s0i"]
particle_flag_disable_z = true
spread = 180.0
initial_velocity_min = 128.0
initial_velocity_max = 128.0
gravity = Vector3(0, 0, 0)
scale_min = 8.0
scale_max = 8.0
color_ramp = SubResource("GradientTexture1D_auuyh")

[sub_resource type="ShaderMaterial" id="ShaderMaterial_e3eef"]
shader = ExtResource("11_dpi0m")
shader_parameter/edge = 1.0

[node name="GameLevel" type="Node2D"]
script = ExtResource("1_cey5i")
dbg = true

[node name="BeatManager" parent="." node_paths=PackedStringArray("display") instance=ExtResource("2_m1mxx")]
display = NodePath("")

[node name="ActionManager" type="Node" parent="."]
script = ExtResource("3_pk7mq")

[node name="BackgroundAudioPlayer" type="AudioStreamPlayer" parent="."]
stream = ExtResource("9_uv3nh")
volume_db = -19.97

[node name="Main" type="CanvasLayer" parent="."]
follow_viewport_enabled = true

[node name="TileMap" type="TileMap" parent="Main"]
position = Vector2(0, 96)
tile_set = SubResource("TileSet_icf70")
format = 2
layer_0/tile_data = PackedInt32Array(65536, 65543, 0, 196608, 65543, 0, 65538, 65543, 0, 196610, 65543, 0, 262147, 65543, 0, 131075, 65543, 0, 65540, 65543, 0, 196612, 65543, 0, 262149, 65543, 0, 131077, 65543, 0, 65542, 65543, 0, 196614, 65543, 0, 262151, 65543, 0, 131079, 65543, 0, 65544, 65543, 0, 196616, 65543, 0, 131073, 65543, 0, 262145, 65543, 0, 262152, 7, 0, 131080, 7, 0, 65543, 7, 0, 196615, 7, 0, 262150, 7, 0, 131078, 7, 0, 65541, 7, 0, 196613, 7, 0, 262148, 7, 0, 131076, 7, 0, 65539, 7, 0, 196611, 7, 0, 262146, 7, 0, 131074, 7, 0, 65537, 7, 0, 196609, 7, 0, 262144, 7, 0, 131072, 7, 0, 327680, 65543, 0, 327682, 65543, 0, 327684, 65543, 0, 327686, 65543, 0, 327688, 65543, 0, 327690, 65543, 0, 196618, 65543, 0, 65546, 65543, 0, 131083, 65543, 0, 131081, 65543, 0, 262153, 65543, 0, 327681, 7, 0, 327683, 7, 0, 327685, 7, 0, 327687, 7, 0, 327689, 7, 0, 262154, 7, 0, 196617, 7, 0, 131082, 7, 0, 65545, 7, 0, 65547, 7, 0, 196619, 7, 0, 327691, 7, 0, 393215, 65543, 0, 393214, 65543, 0, 327678, 65543, 0, 262142, 65543, 0, 262143, 65543, 0, 327679, 65543, 0, 196606, 65543, 0, 196607, 65543, 0, 131070, 65543, 0, 131071, 65543, 0, 131069, 65543, 0, 196605, 65543, 0, 262141, 65543, 0, 327677, 65543, 0, 393213, 65543, 0, 393212, 65543, 0, 327676, 65543, 0, 262140, 65543, 0, 131068, 65543, 0, 196604, 65543, 0, 327692, 7, 0, 327693, 7, 0, 262157, 7, 0, 196621, 7, 0, 196620, 7, 0, 131084, 7, 0, 65548, 7, 0, 65549, 7, 0, 65550, 7, 0, 131086, 7, 0, 131085, 7, 0, 196622, 7, 0, 262158, 7, 0, 327694, 7, 0, 327695, 7, 0, 262159, 7, 0, 196623, 7, 0, 131087, 7, 0, 65551, 7, 0, 262155, 65543, 0, 262156, 7, 0)
script = ExtResource("3_hdv0v")
stats = ExtResource("4_q883l")

[node name="Rock" parent="Main" instance=ExtResource("4_aqdpl")]

[node name="Player" parent="Main" instance=ExtResource("2_q6ogv")]
position = Vector2(64, 288)

[node name="Camera2D" type="Camera2D" parent="Main"]
position = Vector2(768, 432)
zoom = Vector2(0.75, 0.75)

[node name="FloatingUI" type="Node" parent="."]

[node name="FretDisplay" type="CanvasLayer" parent="FloatingUI"]
layer = -1
follow_viewport_enabled = true

[node name="Fret1" type="Panel" parent="FloatingUI/FretDisplay"]
auto_translate_mode = 1
offset_left = 120.0
offset_top = 224.0
offset_right = 128.0
offset_bottom = 864.0
theme_override_styles/panel = SubResource("StyleBoxFlat_gm6jr")

[node name="Fret2" type="Panel" parent="FloatingUI/FretDisplay"]
auto_translate_mode = 1
offset_left = 248.0
offset_top = 224.0
offset_right = 256.0
offset_bottom = 864.0
theme_override_styles/panel = SubResource("StyleBoxFlat_gm6jr")

[node name="Fret3" type="Panel" parent="FloatingUI/FretDisplay"]
auto_translate_mode = 1
offset_left = 376.0
offset_top = 224.0
offset_right = 384.0
offset_bottom = 864.0
theme_override_styles/panel = SubResource("StyleBoxFlat_gm6jr")

[node name="Fret4" type="Panel" parent="FloatingUI/FretDisplay"]
auto_translate_mode = 1
visible = false
offset_left = 504.0
offset_top = 224.0
offset_right = 512.0
offset_bottom = 864.0
theme_override_styles/panel = SubResource("StyleBoxFlat_gm6jr")

[node name="Fret5" type="Panel" parent="FloatingUI/FretDisplay"]
auto_translate_mode = 1
offset_left = 632.0
offset_top = 224.0
offset_right = 640.0
offset_bottom = 864.0
theme_override_styles/panel = SubResource("StyleBoxFlat_gm6jr")

[node name="Fret6" type="Panel" parent="FloatingUI/FretDisplay"]
auto_translate_mode = 1
visible = false
offset_left = 760.0
offset_top = 224.0
offset_right = 768.0
offset_bottom = 864.0
theme_override_styles/panel = SubResource("StyleBoxFlat_gm6jr")

[node name="Fret7" type="Panel" parent="FloatingUI/FretDisplay"]
auto_translate_mode = 1
offset_left = 888.0
offset_top = 224.0
offset_right = 896.0
offset_bottom = 864.0
theme_override_styles/panel = SubResource("StyleBoxFlat_gm6jr")

[node name="Fret8" type="Panel" parent="FloatingUI/FretDisplay"]
auto_translate_mode = 1
visible = false
offset_left = 1016.0
offset_top = 224.0
offset_right = 1024.0
offset_bottom = 864.0
theme_override_styles/panel = SubResource("StyleBoxFlat_gm6jr")

[node name="Fret9" type="Panel" parent="FloatingUI/FretDisplay"]
auto_translate_mode = 1
offset_left = 1144.0
offset_top = 224.0
offset_right = 1152.0
offset_bottom = 864.0
theme_override_styles/panel = SubResource("StyleBoxFlat_gm6jr")

[node name="Fret10" type="Panel" parent="FloatingUI/FretDisplay"]
auto_translate_mode = 1
visible = false
offset_left = 1272.0
offset_top = 224.0
offset_right = 1280.0
offset_bottom = 864.0
theme_override_styles/panel = SubResource("StyleBoxFlat_gm6jr")

[node name="Fret11" type="Panel" parent="FloatingUI/FretDisplay"]
auto_translate_mode = 1
visible = false
offset_left = 1400.0
offset_top = 224.0
offset_right = 1408.0
offset_bottom = 864.0
theme_override_styles/panel = SubResource("StyleBoxFlat_gm6jr")

[node name="Fret12" type="Panel" parent="FloatingUI/FretDisplay"]
auto_translate_mode = 1
offset_left = 1528.0
offset_top = 224.0
offset_right = 1536.0
offset_bottom = 864.0
theme_override_styles/panel = SubResource("StyleBoxFlat_gm6jr")

[node name="BeatDisplay" type="CanvasLayer" parent="FloatingUI"]
offset = Vector2(768, 48)
follow_viewport_enabled = true
script = ExtResource("8_g21sr")
offset = Vector2(768, 48)
bounds = SubResource("RectangleShape2D_7kqia")
stats = ExtResource("4_q883l")

[node name="BeatAnimator" type="AnimationPlayer" parent="FloatingUI/BeatDisplay"]
root_node = NodePath(".")
libraries = {
"": SubResource("AnimationLibrary_tjufq")
}
script = ExtResource("10_nrq1m")

[node name="BadParticles" type="GPUParticles2D" parent="FloatingUI/BeatDisplay/BeatAnimator"]
position = Vector2(768, 48)
emitting = false
process_material = SubResource("ParticleProcessMaterial_mc36c")
lifetime = 0.2
one_shot = true
explosiveness = 0.88

[node name="GoodParticles" type="GPUParticles2D" parent="FloatingUI/BeatDisplay/BeatAnimator"]
position = Vector2(768, 48)
emitting = false
process_material = SubResource("ParticleProcessMaterial_f1s0i")
lifetime = 0.25
one_shot = true
explosiveness = 0.88

[node name="FlashSprite" type="Sprite2D" parent="FloatingUI/BeatDisplay/BeatAnimator"]
self_modulate = Color(0.886275, 0.054902, 0, 1)
material = SubResource("ShaderMaterial_e3eef")
position = Vector2(768, 48)
scale = Vector2(1e-05, 1e-05)
texture = ExtResource("12_mgj8s")

[node name="AudioStreamPlayer" type="AudioStreamPlayer" parent="FloatingUI/BeatDisplay/BeatAnimator"]
volume_db = -28.0

[editable path="BeatManager"]
